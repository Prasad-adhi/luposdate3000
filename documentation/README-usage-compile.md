## Usage / Compile

First, move to the project directory.

Than you need to setup the buildfiles.

Please read all chapters in this README-file first, because you may want to add or change the parameters.

```bash
./launcher.main.kts --setup --target=JVM
```

The launcher remembers the settings you have choosen before, and applies them until you change them explicitly.

# Intellij
Intellij on Windows warns you about not trusted git-ssl-certificates - you can accept these.
The Linux-version of intellij ignores this - this seems to change in every version of the IDE.
You can compile and run the database by navigating to the main functions, which are located within the src/luposdate3000_launch_\*/src/jvmMain/kotlin/Main.kt files.
Substitute the "\*" with the wanted target.
Within the IDE this works only for main functions, which dont require arguments.
Additionally, the main function must be located in the jvmMain folder - main functions within in the commonMain folders can not be executed form intellij directly.

# SPAClient
To use the SPAClient, the target must be either `--target=JS` or `--target=JVM_JS`.
If you choose `--target=JS`, than you must use an external tool to host the web-content, which is located in the folder "./src/luposdate3000_spa_client/dist/".
If you use `--target=JVM_JS`, than the database provides an webserver for hosting the web-frontent.
To speed up the JS code, you may add `--dictionaryValueMode=Int`, which is faster in the Browser (and improves the sonification results), but reduces the speed of the database in the JVM.

# Debugging <-> Release
To remove the debugging code from the target append the option `--releaseMode=Enable` .
If you want the debugging mode again, you would use `--releaseMode=Disable` instead.

# Other options
Here you can specify many options like ("target, inlineMode, releaseMode, compiler, ...").
To find out the possible options run

```bash
./launcher.main.kts --help
```

# compile on commandline

Use the gradle build files which are generated by the previous step.
To compile everything use:

```bash
./gradlew build
```

# If you pull from the git

```bash
./launcher.main.kts --setup
```

# If you are adding new dependencies to a module

Do the same as if you have pulled from git.

# If you only modified the JS code of the SPAClient

then it is enough to execute

```gitbash
./gradlew :src:luposdate3000_spa_client:gulpOnly
```

which is about 10 times faster than building everything again.

# launch the database endpoint

To open the SPARQL endpoint use:

```bash
./launcher.main.kts --run
```

If you have choosen to include "JS" in the target, than the SPAClient is now available at "localhost:80" .
To see the list of compatible Browsers, you may take a look at [caniuse.com](https://caniuse.com/?search=int64array) .

# if you have less than 8GB of memory
Look at this guide [compile with a few GB of RAM](README-compile-with-too-less-RAM.md)
